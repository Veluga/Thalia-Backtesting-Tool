\documentclass[main.tex]{subfiles}
\include{preamble.tex}

\begin{document}

\section{Coding and Integration}
\subsection{Web Framework}
One of the first decisions we had to make was which web framework to use. The two major options for Python are Django and Flask. Although we decided to use Django for our MVP in the first semester, we had to spend a relevant portion of the time available learning the framework, so we had to decide whether we were going to stick with it or learn Flask. In the end, we opted to go with Flask for the following reasons:

\begin{itemize}
    \item Django has one architecture that all projects must share, and we have designed the architecture for our project ourselves. While neither architecture is wrong, the two are not compatible. Flask, on the other hand, is structure-agnostic, so we can lay out the code as we see fit.

\item Flask comes with the bare minimum for web-development, which means that we don't need to manage the complexity of any feature we're not using. Django has a more complete feature-set from the beginning. This would be desirable in a large web application, but introduces significant overhead in our case, where the website has only a handful of pages.

\item Django all but insists on using its ORM for all database interaction, while we plan to have a more manual approach.

\item Our concerns were also confirmed by more experienced web-developers, suggesting simpler alternatives.

\end{itemize}

\subsection {Database Management System}

Another major technology decision was the choice of appropriate database management system (DBMS) for storing historical price data collected by the data harvester. Before committing to a specific technology we identified the following requirements a suitable DBMS should fulfil:

\begin {itemize}
\item SCHEMA: The structure of our data is relatively simple, consequently Thalia does not require support for sophisticated features and data types. A suitable DBMS should be able to accommodate the database schema designed last term, with the addition of simple integrity constraints and cascade operations.
\item SUPPORT: Ideally the DBMS should be cross platform, as this would allow us to defer commitment to a specific deployment platform until we are ready to start the CD process. 
\item LICENSE AND PRICING: The DBMS should be free to use and have a non-restrictive license.
PERFORMANCE: The DBMS should be able to handle a high volume of concurrent reads to fulfil user requests. The data will be updated daily, meaning efficient write operations are a lower priority.
\item USABILITY: As our team lacks experience in this field, a suitable DBMS should be relatively simple to learn. Ideally team members should be able to learn the basics in a single weekly sprint.
\item SECURITY: The DBMS should have a mature code base and be relatively secure, as access to financial data is a key component of our business model. Later it will likely also store data that is not available through public APIs, meaning potential data breaches could expose us to legal liability. \cite{dataprotectionGov}
\item TYPE: Since the project constraints specify we use SQL queries, only relational DBMS supporting a version of SQL are appropriate.

\end{itemize}

MySQL, PostgreSQL, SQLite and MariaDB were subject to in depth comparison based on fulfilment of the above requirements and industry adoption \cite{dbPerfComparison} \cite{dbmsMarketShare}. Our final decision was to use SQLite for the following reasons:

It is user-friendly and easy to deploy, allowing us to start continuous deployment faster.
It has a small footprint and offers good performance. \cite{dbPerfComparison}
Portable serverless design aids with development and testing.
All team members have experience working with SQLite from previous term. This helps to reduce overhead of knowledge transfer.

The main drawbacks of using SQLite, namely scalability and performance are not a concern at this stage, as the current version of Thalia is meant to be a high quality industrial prototype, and as such will not contain the full range of financial data needed for marketability. Should SQLite prove to be inadequate in the future, we would be able to switch to a different DBMS with relatively little trouble, as the process of database migration is exceedingly well documented  \cite{frameworkDataMigration} \cite{understandingDataMigration}. To preempt any difficulties that might arise, the decision was made to design the data layer to easily accommodate such a migration.


\iffalse
Sources:
https://www.djangoproject.com/

https://flask.palletsprojects.com/en/1.1.x/

https://www.codementor.io/@garethdwyer/flask-vs-django-why-flask-might-be-better-4xs7mdf8v

http://ddi-dev.com/blog/programming/django-vs-flask-which-better-your-web-app/

https://coderseye.com/django-vs-flask
\fi

\end{document}