\documentclass[main.tex]{subfiles}

\begin{document}

\section{Appendix A - User Manual}
\label{user_manual}

\subsection{Launching Thalia}
As Thalia is a web application, it is accessible in a web browser via the url: \urllink{http://thaliabacktest.xyz/}{http://thaliabacktest.xyz/}.

\begin{figure}[H]
   \centering
   \includegraphics[scale=0.8]{08Appendices/081User/081Pictures/thalia_domain.png}
   \caption{Thalia Web}
   \label{thalia_web}
\end{figure}

\subsection{Browsing Thalia}

Navigation within the application can be achieved mainly through use of the navigation bar, visible on \figurename{\ref{thalia_navbar}}.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/navbar.png}
   \caption{Thalia Navigation Bar}
   \label{thalia_navbar}
\end{figure}

In case Thalia is launched on a different device, such as mobile or in a smaller window, the layout changes to fit the screen. In this case, the navigation bar becomes a so-called "hamburger button" and dropdown menu visible on \figurename{\ref{thalia_navbar_hamburger}}.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/navbar_hamburger.png}
   \caption{Thalia Navigation Bar - Hamburger}
   \label{thalia_navbar_hamburger}
\end{figure}

For the rest of this manual, we shall assume that the application was launched on a desktop, although the layout is identical and intuitive in both the desktop and mobile case. 

\subsubsection{Homepage}
By default, the user ends up on the homepage, although some other pages are accessible as well, given the correct URL. The Homepage is visible on 

\figurename{\ref{thalia_home}}.
\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/homepage.png}
   \caption{Thalia Homepage (source: http://thaliabacktest.xyz/)}
   \label{thalia_home}
\end{figure}

The purpose of the homepage is to give a cover to our application. When users arrive at the homepage, they are greeted with a short description of what our software entails.

As we do not wish to have users jumping blindly into the process of portfolio analysis, we also provide some basic information on the backtesting process. A link at the end of the description then leads to the `About` page, where users can read more on the topic.

Scrolling down further, the user may encounter a small register form, or in case the user is logged in, our tweets and social media links.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/homepage_bottom.png}
   \caption{Top: User not logged in; Bottom: User recognised}
   \label{thalia_home_bottom}
\end{figure}

\subsubsection{About Page}
The about page of our application provides a more detailed description of the problem domain and is available at \urllink{http://thaliabacktest.xyz/about/}{http://thaliabacktest.xyz/about/}.

The user can arrive at this page either by directly typing in the URL, clicking on the learn more option on the homepage, or by navigating here using the navigation bar.

Our About Page looks as follows:

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth,keepaspectratio]{08Appendices/081User/081Pictures/about_1.png}
   \includegraphics[width=\textwidth,keepaspectratio]{08Appendices/081User/081Pictures/about_2.png}
   \includegraphics[width=\textwidth,keepaspectratio]{08Appendices/081User/081Pictures/about_3.png}
   \caption{Thalia About Page (source: http://thaliabacktest.xyz/about/)}
   \label{thalia_about}
\end{figure}

\subsubsection{Log In and Sign Up Pages}
In case the User is not yet logged in, links for the `Log In` and `Sign Up` pages are visible on the navigation bar as seen on \figurename{\ref{thalia_navbar}} or \figurename{\ref{thalia_navbar_hamburger}}. In addition, they are directly available at \urllink{http://thaliabacktest.xyz/login/}{http://thaliabacktest.xyz/login/} and \urllink{http://thaliabacktest.xyz/register/}{http://thaliabacktest.xyz/register/}.

Both of these forms are quite common, with the login requiring:

\begin{itemize}
    \item Username
    \item Password
    \item Remember me (optional)
\end{itemize}

And for signing up, the fields are:
\begin{itemize}
    \item Username
    \item Password (minimum eight characters, at least one letter, one number and one special character)
    \item Confirm Password

\end{itemize}

By convention, the registration fails when the user enters different values to the Password and Confirm Password fields. In this case, the user is prompted to try again.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/login.png}
   \caption{Thalia Log In Page (source: http://thaliabacktest.xyz/login/)}
   \label{thalia_login}
\end{figure}

In case the user is already logged in and attempts to access these pages, they will be redirected to the homepage. In addition, the navigation bar changes, allowing one to log out as visible on \figurename{\ref{thalia_issues}}.

Opting to log out, the user finds themselves at the homepage.

\subsubsection{Contact Us Page}

The `Contact Us` page is available at \urllink{http://thaliabacktest.xyz/contact/}{http://thaliabacktest.xyz/contact/} or via opening the dropdown menu on the navigation bar and clicking the link. This short form is for users to provide feedback, report issues or request features.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/issues.png}
   \caption{Thalia Report Issues Page (source: http://thaliabacktest.xyz/contact/)}
   \label{thalia_issues}
\end{figure}

\subsubsection{About Us Page}
We also wanted to take pride in our project and sign our work, following the advice in \cite{pragmaticprog}. This simple page is dedicated to the team behind Thalia.

\subsubsection{My Portfolios Page}

The `My Portfolios` page is only accessible for authenticated users. Here, the user may view their saved portfolios with their asset allocations and load them by clicking the corresponding boxes. Upon loading a portfolio, the user will find themselves on the Dashboard. 

\subsection{Running a Backtest}

To run a backtest, the user must be authenticated. After a successful registration and/or login process, the user can head to the Dashboard.

\subsubsection{Dashboard}

The Dashboard, the heart of our application, is available for registered users at \urllink{http://thaliabacktest.xyz/dashboard/}{http://thaliabacktest.xyz/dashboard/} or via the link on the navigation bar.

This web page is divided into tabs, which are:

\begin{itemize}
    \item Ticker Selector
    \item Summary
    \item Metrics
    \item Returns 
    \item Drawdowns
    \item Assets
    \item Overfitting
\end{itemize}

At first, only the Ticker Selector Page is accessible to the user. 

This is because the following tabs are used for displaying the results of backtesting one or multiple portfolios and, as a consequence, are initially empty.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/disabled_tabs.png}
   \caption{Thalia Dashboard - Disabled Tabs}
   \label{thalia_disabled_tabs}
\end{figure}

Let us now consider each tab individually. 

\subsubsection{Ticker Selector}

Here, the user is required to input their backtesting strategy. As Thalia supports testing multiple portfolios at once (currently up to 5), there are input fields which are portfolio specific and others that are not. The latter consists only of:

\begin{itemize}
    \item Start Date: The day the investment is made.
    \item End Date: The last day of the investment, which defaults to the present date.
    \item Initial Amount: Initial balance. The default currency is dollars, as is convention for financial applications.
\end{itemize}

The first two of these are standard date-selectors, but also allow for typing the date directly. Next, the user enters the data specific to the current strategy.

\begin{itemize}
    \item Portfolio Name: Defaults to Portfolio 1, Portfolio 2, etc. 
    \item Contribution Amount: The amount that should be added to the total investments on a regular basis (e.g. after receiving a monthly paycheck).
    \item Contribution Frequency: Specify how regular these contributions should occur.
    \item Rebalancing Frequency: Specify how often rebalancing (reestablishing the initial weights of the portfolio by buying and selling assets) should happen. 
    \item Asset Allocations: Discussed below.
\end{itemize}

The last one is the most crucial information in a strategy. First, the user selects the desired asset from the dropdown menu. The menu item also allows for typing in order to find an asset faster. The selected item is then added to the table below.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/table.png}
   \caption{Thalia Dashboard - Asset Table (source: http://thaliabacktest.xyz/dashboard/)}
   \label{thalia_table}
\end{figure}


The user then specifies the weight of the asset as an element of his portfolio. This is required to be a numeric value, representing the \textit{relative} weight of the asset. For example, given asset A with relative weight 1, and asset B with relative weight 2, then 33\% of the investment is allocated to asset A and 66\% to asset B.

In case the user is content with the portfolio, they can either add another strategy via the ``Add Portfolio`` button or click ``Submit`` to see the results. In case the user has already entered the maximum number of portfolios, i.e. 5, the button is disabled and the only possibility is to submit.

If the user has not entered some required data, such as an initial amount, or selected at least one asset, a warning message is shown, telling them to complete the form correctly. Note that this also happens when the user selects a time frame shorter than a year, as many of our metrics do not make sense for investments for such short periods of time.

In many cases, the user may want to compare their portfolio to a benchmark, i.e. to a small set of standard portfolios. These can be selected from the ``Lazy`` dropdown menu at each portfolio, which then populates the table with the desired proportions.

Alternatively, the user may want to test an allocation on price data only they possess. If the user has the data in the format of a CSV file, this can be done by simple dragging and dropping the file to the corresponding field.

\begin{figure}[H]
   \centering
   \includegraphics[scale=0.8]{08Appendices/081User/081Pictures/user_csv_alt.png}
   \caption{User Uploaded Data Field}
\end{figure}

\subsection{Viewing the Results}

The result of the backtesting process is divided between the remaining tabs of the dashboard. Let us now discuss what each of them tell the user.

\subsubsection{Summary}

If all required fields are populated, the user is taken to the `Summary` tab. This, as well as all other tabs, are now unlocked. At this point, the user is shown one of the key components of our application, i.e. the portfolio growth graph. All graphs are fully interactive. The user may zoom in on selected areas, hover over desired data points, save the plot as an image, etc.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/dash_funcionalities.png}
   \caption{Dash Functionalities}
   \label{dash_functionalities}
\end{figure}

The plot seen at the top of \figurename{\ref{summary}} shows the total return of each portfolio. Users will typically use this graph for comparison. In addition, for each portfolio the user has specified, the following is shown:

\begin{itemize}
    \item Selected Key Metrics: Final Balance, Best Year, Worst Year, etc.
    \item Pie Chart: Proportion of each asset.
    \item Bar Chart: Shows how the total return changed over the years relative to the last.
\end{itemize}

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/summary.png}
   \caption{Summary Tab (source: http://thaliabacktest.xyz/dashboard/)}
   \label{summary}
\end{figure}

It is also important to note that in some cases, there is no data for a given asset. For example, there is no price data for cryptocurrencies before the 2000s as they did not yet exist. In the edge cases, where the portfolio is made up entirely of these assets, the strategy may not be valid over a given investment period. 

If there is only one portfolio given as input and affected by the above, the simulation will be run for a time frame over which data for all assets exists. In the case where the user provides more than one investment strategies with different time frames, we provide output where price data is available.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/differences.png}
   \caption{Different Time Frames per Portfolio (source: http://thaliabacktest.xyz/dashboard/)}
\end{figure}

\subsubsection{Metrics}

The `Metrics` tab shows a simple table of key metrics for each portfolio. This allows for a quick comparison of strategies. Although this page does not show much more data than the previous one, it could easily be expanded later. In case the table gets bigger than the browser window, a horizontal scrolling can be used for viewing the rest.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/metrics.png}
   \caption{Metrics Tab (source: http://thaliabacktest.xyz/dashboard/)}
   \label{metrics}
\end{figure}



\subsubsection{Returns}

The `Returns` tab allows the user to compare the annual returns of each portfolio. It consists of a bar chart similar to the one in the Summary tab and a table similar to the one in the Metrics tab. The graph can be seen on \figurename{\ref{returns}}.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/returns_graph.png}
   \caption{Metrics Tab (source: http://thaliabacktest.xyz/dashboard/)}
   \label{returns}
\end{figure}

It may happen that one of the portfolios was not available at certain times and there is no data for their assets. In these cases, we do not show any values. 

\subsubsection{Drawdowns}

The `Drawdowns` tab shows declines during the investment periods. This is shown both on a graph comparing each portfolio visible on \figurename{\ref{drawdowns_graph}}.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/drawdowns_graph.png}
   \caption{Drawdowns Tab - Graph (source: http://thaliabacktest.xyz/dashboard/)}
   \label{drawdowns_graph}
\end{figure}

For deeper insight, a table of the top drawdowns is generated for each portfolio. By default, this will be the top 10 or as many as exist in case the portfolio does not have 10 drawdown periods.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/drawdowns_tables.png}
   \caption{Drawdowns Tab - Tables (source: http://thaliabacktest.xyz/dashboard/)}
   \label{drawdowns_table}
\end{figure}



\subsubsection{Assets}

Here, the user may encounter a pie chart similar to the one on the summary tab. However, the pie chart shows the proportions of the asset classes and not the assets allocations. This is crucial information for the user as it can show how diverse their portfolio is.

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/assets.png}
   \caption{Assets Tab (source: http://thaliabacktest.xyz/dashboard/)}
   \label{assets_tab}
\end{figure}

\subsubsection{Overfitting}

Our last results tab encompasses a relatively complex feature, which is overfitting. Here, the user may test if any of their portfolios exhibits bias to particular market conditions, for example by choosing a specific timeframe. Overfitting is dangerous as it may skew the investor's perception of the risk-reward characteristics of a portfolio. In case the user decides to run the overfitting test and it fails to detect an overfitting tendency, the following message is displayed:

\begin{figure}[H]
   \centering
   \includegraphics[width=\textwidth]{08Appendices/081User/081Pictures/overfitting.png}
   \caption{Overfitting Tab (source: http://thaliabacktest.xyz/dashboard/)}
   \label{overfitting}
\end{figure}

Alternatively, if the test detects overfitting, it will warn the user, highlighting the corresponding portfolio(s).

\end{document}
